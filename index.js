import{i as E,a as b}from"./assets/vendor-Cbhu4xvy.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function o(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=o(s);fetch(s.href,i)}})();const S=document.querySelector("body"),l=document.querySelector(".modal"),V=document.querySelector(".modal-window-btn"),y="is-open",w=e=>{l.classList.add(y),S.style.overflow="hidden"};V.addEventListener("click",()=>{v()});l.addEventListener("click",e=>{e.target===l&&v()});document.addEventListener("keydown",e=>{e.key==="Escape"&&v()});function v(){l.classList.remove(y),document.body.style.overflow="auto",h()}function h(){const e=document.querySelector(".modal-title"),t=document.querySelector(".modal-massage");e&&e.remove(),t&&t.remove()}const u=document.querySelector(".submit-form-js"),[c,d]=u,p=document.querySelector(".email-text-success"),g=document.querySelector(".email-text-error"),m=document.querySelector(".comments-text-error"),q=async({email:e,comment:t})=>{const o="https://portfolio-js.b.goit.study/api-docs/#/Requests/post_requests",{data:n}=await b.post(o,{email:e,comment:t});return n},a={valid:"valid-input",invalid:"invalid-input",isVisible:"is-visible"},O=e=>{const o=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e);return o?(c.classList.add(a.valid),p.classList.add(a.isVisible)):(c.classList.add(a.invalid),g.classList.add(a.isVisible)),o},I=e=>(e?d.classList.add(a.valid):(d.classList.add(a.invalid),m.classList.add(a.isVisible)),!!e),N=e=>{const t=e.name;t==="userEmail"&&(p.classList.remove(a.isVisible),m.classList.remove(a.isVisible)),t==="userComments"&&m.classList.remove(a.isVisible),e.classList.remove(a.valid),e.classList.remove(a.invalid)},C=()=>{[p,g,m].forEach(o=>{o.classList.remove(a.isVisible)}),[c,d].forEach(o=>{o.classList.remove(a.valid),o.classList.remove(a.invalid)})},L="formData",r=P()||{userEmail:"",userComments:""};c.value=r.userEmail;d.value=r.userComments;u.addEventListener("input",e=>{N(e.target);const{name:t,value:o}=e.target;r[t]=o.trim(),M(r)});u.addEventListener("submit",D);async function D(e){e.preventDefault();const{userEmail:t,userComments:o}=r,n=O(t),s=I(o);if(!(!n||!s))try{const i=await q({email:t,comment:o});w(i),x()}catch(i){E.error({title:"Error",message:i.message})}}function M(e,t=L){localStorage.setItem(t,JSON.stringify(e))}function P(e=L){return JSON.parse(localStorage.getItem(e))}function x(e=L){localStorage.removeItem(e),u.reset(),C(),r.userEmail="",r.userComments=""}
//# sourceMappingURL=index.js.map
