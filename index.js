import{i as f,a as p}from"./assets/vendor-Cbhu4xvy.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();const m=document.querySelector(".submit-form-js"),[v,l]=m,d=document.querySelector(".email-text-success");document.querySelector(".email-text-error");const u=document.querySelector(".comments-text-error"),y=async({email:s,comment:r})=>{const i="https://portfolio-js.b.goit.study/api-docs/#/Requests/post_requests",{data:a}=await p.post(i,{email:s,comment:r});return a},o={valid:"valid-input",invalid:"invalid-input",isVisible:"is-visible"},L=s=>(s?l.classList.add(o.valid):(l.classList.add(o.invalid),u.classList.add(o.isVisible)),!!s),g=s=>{const r=s.name;r==="userEmail"&&(d.classList.remove(o.isVisible),u.classList.remove(o.isVisible)),r==="userComments"&&u.classList.remove(o.isVisible),s.classList.remove(o.valid),s.classList.remove(o.invalid)},n=getFromLocalStorage()||{userEmail:"",userComments:""};v.value=n.userEmail;l.value=n.userComments;m.addEventListener("input",s=>{g(s.target);const{name:r,value:i}=s.target;n[r]=i.trim(),setLocalStorage(n)});m.addEventListener("submit",b);async function b(s){s.preventDefault();const{userEmail:r,userComments:i}=n,a=d(r),e=L(i);if(!(!a||!e))try{const t=await y({email:r,comment:i});openModal(t),resetData()}catch(t){f.error({title:"Error",message:t.message})}}
//# sourceMappingURL=index.js.map
